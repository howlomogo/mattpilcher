
<section class="mt-4">
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-3 col-md-12 mb-6">
        <div class="row">
          <div class="col-lg-12">
            <div class="results--filter-box mb-2 pb-2">
              <h5>Cottage Search</h5>
              <div class="result--filter-box--inner">
                <div class="row">
                  <div class="col-md-4 col-lg-12 gutter--sm">
                    <label class="mb-1">Location</label>
                    <div class="select mb-2">
                      <select ng-model="$root.curFilters.location" ng-options="home.county as home.county for home in properties | unique: 'county'">
                        <option value="">All</option>
                      </select>
                      <div class="select_arrow"></div>
                    </div>
                  </div>
                  <div class="col-6 col-sm-6 col-md-4 col-lg-12 gutter--sm">
                    <label class="mb-1">Start Date</label>
                    <div class="input-group form--results-date mb-2" moment-picker="$root.curFilters.dates.dateStart" format="YYYY-MM-DD" min-date="$root.curFilters.dates.dateToday" max-date="$root.curFilters.dates.dateEnd" start-view="month" today="true" change="$root.pickerChange()"><span class="input-group-addon"><i class="ion ion-calendar"></i></span>
                      <input class="form-control" placeholder="Select a date" ng-model="$root.curFilters.dates.dateStart" ng-model-options="{ updateOn: 'blur' }"/>
                    </div>
                  </div>
                  <div class="col-6 col-sm-6 col-md-4 col-lg-12 gutter--sm">
                    <label class="mb-1">End Date</label>
                    <div class="input-group form--results-date" moment-picker="$root.curFilters.dates.dateEnd" format="YYYY-MM-DD" start-view="month" min-date="$root.curFilters.dates.dateStart" change="$root.pickerChange()"><span class="input-group-addon"><i class="ion ion-calendar"></i></span>
                      <input class="form-control" placeholder="Select a date" ng-model="$root.curFilters.dates.dateEnd" ng-model-options="{ updateOn: 'blur' }"/>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-12">
            <div class="results--filter-box">
              <h5>Filter Options</h5>
              <div class="row">
                <div class="col-sm-6 col-md-3 col-lg-12 gutter--sm">
                  <div class="result--filter-box--inner mb-2">
                    <label class="mb-1">Price - (Per Night)</label>
                    <div class="control-group">
                      <label class="control control-checkbox">£0 - £99
                        <input type="checkbox" checked="checked" data-ng-model="filterOptions.costCb.c0"/>
                        <div class="control_indicator"></div>
                      </label>
                      <label class="control control-checkbox">£100 - £199
                        <input type="checkbox" checked="checked" data-ng-model="filterOptions.costCb.c1"/>
                        <div class="control_indicator"></div>
                      </label>
                      <label class="control control-checkbox">£200 - £299
                        <input type="checkbox" checked="checked" data-ng-model="filterOptions.costCb.c2"/>
                        <div class="control_indicator"></div>
                      </label>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6 col-md-4 col-lg-12 gutter--sm">
                  <div class="result--filter-box--inner mb-2">
                    <label class="mb-1">Features - (Must Have)</label>
                    <label class="control control-checkbox">Pets Allowed
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.featuresCb.pets"/>
                      <div class="control_indicator"></div>
                    </label>
                    <label class="control control-checkbox">Wifi
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.featuresCb.wifi"/>
                      <div class="control_indicator"></div>
                    </label>
                    <label class="control control-checkbox">Swimming Pool
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.featuresCb.swimming"/>
                      <div class="control_indicator"></div>
                    </label>
                    <label class="control control-checkbox">Washing Machine
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.featuresCb.washing"/>
                      <div class="control_indicator"></div>
                    </label>
                    <label class="control control-checkbox">Fireplace
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.featuresCb.fireplace"/>
                      <div class="control_indicator"></div>
                    </label>
                    <label class="control control-checkbox">Hot Tub
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.featuresCb.hottub"/>
                      <div class="control_indicator"></div>
                    </label>
                  </div>
                </div>
                <div class="col-6 col-sm-6 col-md-2 col-lg-12 gutter--sm">
                  <div class="result--filter-box--inner mb-2">
                    <label class="mb-1">Bedrooms</label>
                    <label class="control control-checkbox">1
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.bedroomsCb.b1"/>
                      <div class="control_indicator"></div>
                    </label>
                    <label class="control control-checkbox">2
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.bedroomsCb.b2"/>
                      <div class="control_indicator"></div>
                    </label>
                    <label class="control control-checkbox">3
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.bedroomsCb.b3"/>
                      <div class="control_indicator"></div>
                    </label>
                    <label class="control control-checkbox">4
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.bedroomsCb.b4"/>
                      <div class="control_indicator"></div>
                    </label>
                    <label class="control control-checkbox">5
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.bedroomsCb.b5"/>
                      <div class="control_indicator"></div>
                    </label>
                  </div>
                </div>
                <div class="col-6 col-sm-6 col-md-3 col-lg-12 gutter--sm">
                  <div class="result--filter-box--inner mb-2">
                    <label class="mb-1">Customer Rating</label>
                    <label class="control control-checkbox"><span class="ion ion-star d-inline-block"></span>
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.ratingCb.r1"/>
                      <div class="control_indicator"></div>
                    </label>
                    <label class="control control-checkbox"><span class="ion ion-star d-inline-block"></span><span class="ion ion-star d-inline-block"></span>
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.ratingCb.r2"/>
                      <div class="control_indicator"></div>
                    </label>
                    <label class="control control-checkbox"><span class="ion ion-star d-inline-block"></span><span class="ion ion-star d-inline-block"></span><span class="ion ion-star d-inline-block"></span>
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.ratingCb.r3"/>
                      <div class="control_indicator"></div>
                    </label>
                    <label class="control control-checkbox"><span class="ion ion-star d-inline-block"></span><span class="ion ion-star d-inline-block"></span><span class="ion ion-star d-inline-block"></span><span class="ion ion-star d-inline-block"></span>
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.ratingCb.r4"/>
                      <div class="control_indicator"></div>
                    </label>
                    <label class="control control-checkbox"><span class="ion ion-star d-inline-block"></span><span class="ion ion-star d-inline-block"></span><span class="ion ion-star d-inline-block"></span><span class="ion ion-star d-inline-block"></span><span class="ion ion-star d-inline-block"></span>
                      <input type="checkbox" checked="checked" data-ng-model="filterOptions.ratingCb.r5"/>
                      <div class="control_indicator"></div>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-9 col-md-12 col-sm-12">
        <div class="row results--top-filters mb-2">
          <div class="col-6 col-sm-6">
            <label>Sort By:</label>
            <div class="select">
              <select ng-model="resultsOrder">
                <option value="town">Town</option>
                <option value="county">County</option>
                <option value="cost">Cost</option>
                <option value="rating">Rating</option>
              </select>
              <div class="select_arrow"></div>
            </div>
          </div>
          <div class="col-6 col-sm-6">
            <label>Results Per Page:</label>
            <div class="select">
              <select ng-model="resultsAmount">
                <option value="2">2</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
              </select>
              <div class="select_arrow"></div>
            </div>
          </div>
        </div>
        <div class="row" dir-paginate="home in properties | orderBy : resultsOrder | filter: $root.changeLocation($root.curFilters.location) | filter: featureFilter | filter: costFilter | filter: bedroomFilter | filter:ratingFilter | itemsPerPage: resultsAmount">
          <div class="col-md-12">
            <div class="results--cottage-section">
              <div class="row align-items-center">
                <div class="col-md-5"><img ng-src="assets/{{ home.image }}" alt="Home Image"/></div>
                <div class="col-md-7">
                  <h4 class="cottage-name">{{ home.name }}</h4>
                  <h6 class="cottage-town">{{ home.town }}, {{ home.county }}</h6>
                  <p class="mb-2 font-weight-400"><span class="mr-1">Sleeps: {{ home.sleeps }}</span><span class="mr-1">|</span><span class="mr-1">Bedrooms: {{ home.bedrooms }}</span><span class="mr-1">|</span><span><span class="ion ion-star d-inline-block" ng-repeat="i in getRating(home.rating) track by $index"></span></span></p>
                  <hr class="mb-1"/>
                  <div class="row results--features no-gutters">
                    <div class="col-md-4 col-12">
                      <p><span class="ion mr-1" ng-class="home.features.pets ? 'ion-checkmark' : 'ion-close'"></span>Pets Allowed</p>
                      <p><span class="ion mr-1" ng-class="home.features.wifi ? 'ion-checkmark' : 'ion-close'"></span>Wifi</p>
                    </div>
                    <div class="col-md-4 col-12">
                      <p><span class="ion mr-1" ng-class="home.features.swimming ? 'ion-checkmark' : 'ion-close'"></span>Swimming Pool</p>
                      <p><span class="ion mr-1" ng-class="home.features.washing ? 'ion-checkmark' : 'ion-close'"></span>Washing</p>
                    </div>
                    <div class="col-md-4 col-12">
                      <p><span class="ion mr-1" ng-class="home.features.fireplace ? 'ion-checkmark' : 'ion-close'"></span>Fireplace</p>
                      <p><span class="ion mr-1" ng-class="home.features.hottub ? 'ion-checkmark' : 'ion-close'"></span>Hot Tub</p>
                    </div>
                  </div>
                  <hr class="mb-2"/>
                  <div class="row align-items-center">
                    <div class="col-md-6">
                      <p class="mb-0">{{ curFilters.nights }} nights</p>
                      <h5 class="results--price">From £{{ home.cost * curFilters.nights }}</h5>
                    </div>
                    <div class="col-md-6 text-right"><a href="#!/details/{{home.id}}">
                        <button class="btn">View and Book</button></a></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="text-center mb-6">
          <dir-pagination-controls auto-hide="true" template-url="pagination.html"></dir-pagination-controls>
        </div>
      </div>
    </div>
  </div>
</section>